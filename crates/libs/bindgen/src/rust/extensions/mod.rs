use super::*;

fn include_ext(relative_path: &str) -> TokenStream {
    quote! {
        core::include!(
            core::concat!(
                core::env!("CARGO_MANIFEST_DIR"),
                "/src/includes/",
                #relative_path
            )
        );
    }
}

/// Generates extension code for a specific namespace
///
/// This function allows us to inject code into modules generated by bindgen.
/// This feature is no longer needed but is preserved in case it is needed
/// again in the future.
pub fn gen_mod(writer: &Writer, namespace: &str) -> TokenStream {
    if writer.sys {
        return quote!();
    }

    match namespace {
        _ => quote!(),
    }
}

pub fn gen_impl(namespace: &str) -> TokenStream {
    match namespace {
        "Windows.Foundation.Collections" => include_ext("Foundation/Collections.rs"),
        _ => quote!(),
    }
}
